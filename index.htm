<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">

    <title>FRIGG Player</title>

    <link rel="icon" type="image/png" href="medias/favicon.png" />

    <meta property="og:url"           content="https://player.systeme-frigg.org" />
    <meta property="og:type"          content="website" />
    <meta property="og:title"         content="FRIGG Player" />
    <meta property="og:description"   content="FRIGG est un logiciel en ligne pour créer facilement et gratuitement des expériences géolocalisées et ludiques." />
    <meta property="og:image"         content="https://player.systeme-frigg.org/medias/partage.jpg" />

    <meta name="description" content="FRIGG est un logiciel en ligne pour créer facilement et gratuitement des expériences géolocalisées et ludiques." />

    <!-- link rel="stylesheet" type="text/css" href="http://frigg-sdk-js.local/src/frigg-base.css" -->
    <link rel="stylesheet" type="text/css" href="https://static.systeme-frigg.org/frigg-sdk-js-latest/src/frigg-base.css">

    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="diaporama/diaporama.css">

    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.47.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.47.0/mapbox-gl.css' rel='stylesheet' />

    <script src="https://player.vimeo.com/api/player.js"></script>
    <script src="diaporama/Diaporama.js"></script>

</head>
<body>


    <div id="friggContainer">
        <p class="pleaseWait">Chargement en cours, veuillez patienter...</p>
    </div>

    <div id="friggDebugger">
    </div>

    <div id="friggTemplates">

        <!-- Here we define all availables templates. These elements will be cloned as needed by the SDK, based on the template's name and the element id here. -->

        <!-- TEMPLATE : SPLASH-->
        <section id="tpl_splash" class="scene tpl_splash" frigg-slot-class="custom_data">
            <div frigg-slot-bg="background" class="container" >

                <div class="audio_block">
                    <audio frigg-slot-srcAlt="audio" class="audioPlayer"> </audio>
                    <img draggable="false" frigg-slot-srcAlt="play_icon" frigg-media-control class="audio_control play"/>
                    <img draggable="false" frigg-slot-srcAlt="pause_icon" frigg-media-control class="audio_control pause"/>
                </div>


                <div class="contentBlock" >
                    <img draggable="false" class="front" frigg-slot-srcAlt="front" frigg-slot-link="next" />
                    <p frigg-slot-html="content" frigg-slot-link="next" ></p>
                </div>

            </div>

            
        </section>


        <!-- TEMPLATE : Choices-->
        <section id="tpl_choices" class="scene" frigg-slot-class="custom_data">
            <div frigg-slot-bg="background" class="container carded">
                
                <div class="card">
                    <div class="audio_block">
                        <audio frigg-slot-srcAlt="audio" class="audioPlayer"> </audio>
                        <img draggable="false" frigg-slot-srcAlt="play_icon" frigg-media-control class="audio_control play"/>
                        <img draggable="false" frigg-slot-srcAlt="pause_icon" frigg-media-control class="audio_control pause"/>
                    </div>

                    <div class="content">
                        <div frigg-slot-html="content" class="main_text"></div>

                        <ul class="items">
                            <li frigg-slot-bg="items_image" frigg-slot-link="items_link" frigg-slot-html="items_text" class="item"></li>
                        </ul>
                    </div>

                </div>

            </div>

        </section>




        <section id="tpl_content" class="scene" frigg-slot-class="custom_data">

            <div frigg-slot-bg="background" class="container">

            <header class="diapo-viewport">
                <div class="diaporama diapo-ribbon" >
                    <img draggable="false" frigg-slot-srcAlt="images" class="diapo-item" />
                </div>

                <p class="navButtons">
                    <img draggable="false" frigg-slot-srcAlt="close_icon" class="diaporama-close"/>
                    <img draggable="false" frigg-slot-srcAlt="previous_icon" class="diaporama-previous"/>
                    <img draggable="false" frigg-slot-srcAlt="next_icon" class="diaporama-next" />
                </p>

                <p class="legendContainer"></p>

                <p class="nav mainNav"><img draggable="false" frigg-slot-srcAlt="main_nav_icon" frigg-slot-link="main_nav_link" /></p>
                <p class="nav secondaryNav"><img draggable="false" frigg-slot-srcAlt="secondary_nav_icon" frigg-slot-link="secondary_nav_link" /></p>
                
            </header>

            <section class="mainContent">

                <div class="body">
                    <div class="audio_block">
                        <audio frigg-slot-srcAlt="audio" class="audioPlayer"> </audio>
                        <img draggable="false" frigg-slot-srcAlt="play_icon" frigg-media-control class="audio_control play"/>
                        <img draggable="false" frigg-slot-srcAlt="pause_icon" frigg-media-control class="audio_control pause"/>
                    </div>

                    <div frigg-slot-html="content"></div>
                </div>

                
                
            </section>

            <footer>
                <div class="body items bottom-menu" >
                    <img draggable="false" frigg-slot-srcAlt="items_image" frigg-slot-link="items_link" class="item"/>
                </div>
            </footer>

            </div>

        </section>











        <section id="tpl_map" class="scene" frigg-slot-class="custom_data">

            <div class="container" frigg-slot-bg="background">
                <div class='mapContainer'></div> <!-- the map is actually loaded by the listener -->
                <p class="menuButton"><img draggable="false" frigg-slot-srcAlt="menu_icon" frigg-slot-link="menu_link" /></p>

                <footer>
                    <div class="body items bottom-menu">
                        <img draggable="false" frigg-slot-srcAlt="items_image" frigg-slot-link="items_link" class="item link"/>
                    </div>
                </footer>
            
            </div>

            
        </section>




        <section id="tpl_menu" class="scene" frigg-slot-class="custom_data">
            <div class="container">
                <p class="closeButton"><img draggable="false" frigg-slot-srcAlt="close_icon" frigg-slot-link="close_link" /></p>

                <p frigg-slot-html="title" ></p>

                <ul class="items">
                    <li frigg-slot-html="items" frigg-slot-link="items_target"></li>
                </ul>
            </div>
        </section>

        <section id="tpl_page_informations" class="scene contentPage" frigg-slot-class="custom_data">
            <div class="container">

                <p class="closeButton"><img draggable="false" frigg-slot-srcAlt="close_icon" frigg-slot-link="close_link" /></p>

                <div class="body">
                    <h2 frigg-slot-html="title" class="title"></h2>
                    <div frigg-slot-html="main_text"></div>

                    <div class="images" >
                        <img draggable="false" frigg-slot-srcAlt="images" />
                    </div>
                </div>




            </div>
        </section>




        <section id="tpl_text_input" frigg-slot-class="custom_data">
            <div frigg-slot-bg="background" class="container carded">
                <form class="form">
                    <p frigg-slot-html="content"></p>
                    <p frigg-slot-html="failure_content" class="failure_content"></p>

                    <p class="formItem text"><input type="text" name="input" autocomplete="off" /></p>
                    <p class="formItem button"><button class="standardButton" frigg-slot-html="button_label"></button></p>
                </form>
            </div>
        </section>

        <section id="tpl_qrcode" frigg-slot-class="custom_data">
            <div frigg-slot-bg="background" class="container carded">
                <form class="form">
                    <p frigg-slot-html="content"></p>
                    <p frigg-slot-html="failure_content" class="failure_content"></p>
                    <p frigg-slot-html="error_content" class="error_content"></p>

                    <p class="formItem file">
                        <label>
                            <span class="standardButton" frigg-slot-html="button_label"></span>
                            <input type="file" name="input" />
                        </label>
                    </p>
                </form>

                <p class="bypassButton" frigg-slot-html="bypass_label" frigg-slot-link="bypass_link"></p>
            </div>
        </section>

    </div>


<!--script type="text/javascript" src="http://frigg-sdk-js.local/src/frigg-sdk.js"></script-->
<script type="text/javascript" src="https://static.systeme-frigg.org/frigg-sdk-js-latest/src/frigg-sdk.js"></script>

<script type="text/javascript" src="diaporama-options.js" ></script>
<script type="text/javascript" src="frigg-options.js" ></script>



<!-- https://github.com/LazarSoft/jsqrcode -->
<script type="text/javascript" src="qrcode-src/grid.js"></script>
<script type="text/javascript" src="qrcode-src/version.js"></script>
<script type="text/javascript" src="qrcode-src/detector.js"></script>
<script type="text/javascript" src="qrcode-src/formatinf.js"></script>
<script type="text/javascript" src="qrcode-src/errorlevel.js"></script>
<script type="text/javascript" src="qrcode-src/bitmat.js"></script>
<script type="text/javascript" src="qrcode-src/datablock.js"></script>
<script type="text/javascript" src="qrcode-src/bmparser.js"></script>
<script type="text/javascript" src="qrcode-src/datamask.js"></script>
<script type="text/javascript" src="qrcode-src/rsdecoder.js"></script>
<script type="text/javascript" src="qrcode-src/gf256poly.js"></script>
<script type="text/javascript" src="qrcode-src/gf256.js"></script>
<script type="text/javascript" src="qrcode-src/decoder.js"></script>
<script type="text/javascript" src="qrcode-src/qrcode.js"></script>
<script type="text/javascript" src="qrcode-src/findpat.js"></script>
<script type="text/javascript" src="qrcode-src/alignpat.js"></script>
<script type="text/javascript" src="qrcode-src/databr.js"></script>





<script type="text/javascript">

    function readHashParams(){
        var params = {};
        var hashString = window.location.hash.slice(1);
        var hashParamArray = hashString.split("&");

        for (var i = 0; i < hashParamArray.length; i++) {
            var param = hashParamArray[i].split("=");

            params[ param[0] ] = param[1];
        }

        return params;
    }

    var params = readHashParams();
    var projectId = params["project"] ? params["project"] : prompt("Identifiant du projet");

    //if you deploy this for your specific project, you should hardcode your project id, instead of reading it from the URL.
    //var projectId = 1234;

    var frigg = new FRIGG.Client(friggConfig);
    frigg.run(projectId);

</script>

</body>
</html>